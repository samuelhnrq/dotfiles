HISTFILE=~/.histfile
HISTSIZE=1000
SAVEHIST=1000
setopt extendedglob nomatch notify
bindkey -e

export EDITOR=vim
export VOLTA_HOME="$HOME/.volta"
export PATH="$VOLTA_HOME/bin:$HOME/.local/bin:$PATH"

[[ ! -f ~/.p10k.zsh ]] || source ~/.p10k.zsh

if [[ -r "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh" ]]; then
    source "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh"
fi

# ZPLUG START
source ~/.zplug/init.zsh

zplug romkatv/powerlevel10k, as:theme, depth:1

if ! zplug check --verbose; then
    printf "Install? [y/N]: "
    if read -q; then
        echo
        zplug install
    fi
fi

zplug load
# ZPLUG END


{{ if eq .chezmoi.os "linux" -}}
{{   if (.chezmoi.kernel.osrelease | lower | contains "microsoft") }}
# WSL Section
export GIT_SSH_COMMAND="ssh.exe"

{{   end }}
# Generic LINUX section

{{ else if eq .chezmoi.os "darwin" -}}
# MACOS Section
eval "$(/opt/homebrew/bin/brew shellenv)"
eval "$(chezmoi completion zsh)"
export FPATH="$(brew --prefix)/share/zsh-completions:$FPATH"
export PATH="/opt/homebrew/opt/python3/libexec/bin:$PATH"
export ZSH_DISABLE_COMPFIX="true"

{{ end -}}

if which pyenv > /dev/null; then
    eval "$(pyenv init -)"
fi

zstyle :compinstall filename '{{ .chezmoi.homeDir }}/.zshrc'
autoload -Uz compinit
compinit

# vim: set syntax=zsh:

